<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="${#locale.language}">
<head th:replace="~{templates/template/header :: header('label.title.register')}"></head>

<body>
<div class="container">
    <img class="center-block" th:alt="#{label.logo}" th:src="@{/images/brand.png}" style="height: 200px; margin-top: 50px;"/>

    <div style="margin: 0 auto; max-width: 900px; padding: 0px 15px">
        <h2 class="form-signin-heading col-sm-offset-4" th:text="#{label.title.user.register}">Sign up</h2>

        <span id="success" hidden="hidden"></span>

        <form id="registerform"
              name="registerform"
              class="form-horizontal"
              th:action="@{/DoRegister(__${_csrf.parameterName}__=${_csrf.token})}"
              method="post">

            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

            <div class="form-group">
                <label for="login" class="col-sm-4 control-label" th:text="#{label.user.login}">Username</label>
                <div class="col-sm-8">
                    <input type="text"
                           id="login"
                           name="login"
                           class="form-control"
                           required
                           th:pattern="${usernameRegex}" />
                </div>
            </div>

            <div class="form-group">
                <label for="password" class="col-sm-4 control-label" th:text="#{label.user.password}">Password</label>
                <div class="col-sm-8">
                    <input type="password" id="password" name="password" class="form-control" required/>
                </div>
            </div>

            <div class="form-group">
                <label for="repeatPassword" class="col-sm-4 control-label" th:text="#{label.user.repeat_password}">Repeat Password</label>
                <div class="col-sm-8">
                    <input type="password" id="repeatPassword" name="repeatPassword" class="form-control" required/>
                </div>
            </div>

            <div class="form-group">
                <label for="firstName" class="col-sm-4 control-label" th:text="#{label.user.first_name}">Firstname</label>
                <div class="col-sm-8">
                    <input type="text" id="firstName" name="firstName" class="form-control" required/>
                </div>
            </div>

            <div class="form-group">
                <label for="lastName" class="col-sm-4 control-label" th:text="#{label.user.last_name}">Lastname</label>
                <div class="col-sm-8">
                    <input type="text" id="lastName" name="lastName" class="form-control" required/>
                </div>
            </div>

            <div class="form-group">
                <label for="email" class="col-sm-4 control-label" th:text="#{label.user.email}">Email address</label>
                <div class="col-sm-8">
                    <input type="email"
                           id="email"
                           name="email"
                           class="form-control"
                           pattern="^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$"
                           required/>
                </div>
            </div>

            <div class="form-group">
                <label for="locale" class="col-sm-4 control-label" th:text="#{label.user.default_ui_language}">Default UI Language</label>
                <div class="col-sm-8">
                    <select class="form-control" id="locale" name="locale">
                        <option value="en"
                                class="list-group-item pull-left"
                                style="margin-right: 5px;background: white url([[${'/images/flags/en.png'}]]) no-repeat 1%;border:1px solid white;padding:0px;padding-top:3px;padding-bottom:3px;padding-left: 25px;">
                            English
                        </option>
                        <option value="fr"
                                class="list-group-item pull-left"
                                style="margin-right: 5px;background: white url([[${'/images/flags/fr.png'}]]) no-repeat 1%;border:1px solid white;padding:0px;padding-top:3px;padding-bottom:3px;padding-left: 25px;">
                            Fran√ßais
                        </option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-offset-4 col-sm-8">
                    <button class="btn btn-primary" type="submit" th:text="#{label.action.sign_up.user}">Signup</button>
                    <a class="btn btn-default pull-right" th:href="@{/Login}" th:text="#{label.action.cancel}">Cancel</a>
                </div>
            </div>
        </form>
    </div>

    <!-- Includes -->
    <div th:replace="~{templates/template/footer :: footer}"></div>
    <div th:replace="~{templates/template/scripts :: scripts}"></div>
    <script th:src="@{/js/trickservice/register.js}"></script>
</div>
</body>
</html>
