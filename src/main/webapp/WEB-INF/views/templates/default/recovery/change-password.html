<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{template/header :: head}"></head>
<body>
<div class="container">

    <!-- Logo -->
    <img class="center-block"
         th:alt="#{label.logo}"
         th:src="@{/images/brand.png}"
         style="height: 200px; margin-top: 50px;" />

    <div style="margin: 0 auto; max-width: 600px; padding: 0px 15px">

        <!-- Title -->
        <h2 class="form-signin-heading col-sm-offset-3"
            th:text="#{label.title.user.change.password}">
            Change your password
        </h2>

        <!-- Back Link -->
        <a class="navbar-link pull-right"
           th:href="@{/Login}"
           style="margin-top: -30px;"
           th:text="#{label.menu.navigate.back}">
            Back
        </a>

        <!-- Form -->
        <form th:action="@{/ChangePassword/Save}" th:object="${changePassword}" method="post" class="form-horizontal">

            <!-- CSRF Token -->
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

            <!-- Hidden Request ID -->
            <input type="hidden" th:field="*{requestId}" />

            <!-- New Password -->
            <div class="form-group" style="margin-top: 20px;">
                <label class="col-sm-3 control-label" th:for="*{password}" th:text="#{label.user.new.password}">New password</label>
                <div class="col-sm-9">
                    <input type="password" th:field="*{password}" class="form-control" required />
                    <span th:errors="*{password}" class="label label-danger"></span>
                </div>
            </div>

            <!-- Repeat Password -->
            <div class="form-group">
                <label class="col-sm-3 control-label" th:for="*{repeatPassword}" th:text="#{label.user.repeat_password}">Repeat password</label>
                <div class="col-sm-9">
                    <input type="password" th:field="*{repeatPassword}" class="form-control" required />
                    <span th:errors="*{repeatPassword}" class="label label-danger"></span>
                </div>
            </div>

            <!-- Buttons -->
            <div class="form-group">
                <div class="col-sm-offset-3 col-sm-9">
                    <button class="btn btn-primary" type="submit" th:text="#{label.action.update}">Update</button>
                    <a class="btn btn-danger pull-right"
                       th:href="@{/ChangePassword/{id}/Cancel(id=${changePassword.requestId})}"
                       th:text="#{label.action.cancel}">
                        Cancel
                    </a>
                </div>
            </div>

        </form>
    </div>

    <!-- Footer -->
    <div th:replace="~{template/footer :: footer}"></div>

</div>
</body>
</html>
